<!DOCTYPE html>
<html lang="en" ng-app="adminApp">
<head>
    <meta charset="UTF-8">
    <title>Административная панель</title>
    <script src="dist/angular/angular.js"></script>
    <script src="dist/underscore/underscore-min.js"></script>
    <script src="js/model.js"></script>
    <script src="js/admin.js"></script>
    <script src="dist/jszip/jszip.js"></script>
    <script src="dist/angular/angular-file-upload.js"></script>
    <style>
        .panel-controls {
            position: absolute;
            top: 10px;
            height: 40px;
            left: 10px;
            width: 400px;
        }

        .panel-controls button {
            height: 100%;
            width: 80px;
        }

        .panel-model-list {
            position: absolute;
            top: 60px;
            left: 10px;
            width: 400px;
        }

        .panel-navigation {
            position: absolute;
            top: 460px;
            left: 10px;
        }

        .panel-selected-model {
            position: absolute;
            top: 10px;
            left: 450px;
        }

        .progress-bar {
            background-color: cadetblue;
            height: 24px;
        }

        .item {
            height: 32px;
        }

        .item-selected-true {
            background-color: #cccccc;
        }
    </style>
</head>
<body>
<div ng-controller="adminController as admin">
    <div class="panel-controls">
        <button ng-click="admin.AddModel()">Добавить</button>
        <button ng-click="admin.DeleteSelected()">Удалить</button>
    </div>
    <div class="panel-model-list">
        <table border="1px">
            <tr style='font-weight: bold;'>
                <th style='width: 50px;'></th>
                <th style='width: 50px; text-align: left'>ИД</th>
                <th style='width: 200px; text-align: left'>Наименование</th>
            </tr>
            <tr ng-repeat="model in admin.models" class="item item-selected-{{model.IsSelected}}" ng-click="admin.SelectModel(model)">
                <td><input type='checkbox' ng-model="model.IsChecked"/></td>
                <td><span>{{model.Model.Id}}</span></td>
                <td><a ng-href="view.php?id={{model.Model.Id}}">{{model.Model.Name}}</a></td>
            </tr>
        </table>
    </div>
    <div class="panel-navigation">
        <button ng-click="admin.PrevPage()" ng-disabled="admin.IsFirstPage">Назад</button>
        <button ng-click="admin.NextPage()" ng-disabled="admin.IsLastPage">Вперед</button>
    </div>
    <div class="panel-selected-model">
        <b>Ид: </b><span>{{admin.SelectedModel.Model.Id}}</span><br>
        <b>Наименование: </b><span>{{admin.SelectedModel.Model.Name}}</span><br>
        <!--<input id="file-input" type="file" multiple onchange="angular.element(this).scope().HandleFiles(this)">-->
        <label>Выберите OBJ файл</label>
        <input id="file-input" type="file" nv-file-select uploader="uploader">
        <div class="progress" style="">
            <div class="progress-bar" ng-style="{ 'width': admin.ZipProgress + '%' }" style="width: 0%;"></div>
        </div>
        <div>
            <div>
                Queue progress:
                <div class="progress" style="">
                    <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" style="width: 0%;"></div>
                </div>
            </div>
            <button type="button" class="btn btn-success btn-s" ng-click="uploader.uploadAll()" ng-disabled="admin.IsWorking" disabled="disabled">
                <span class="glyphicon glyphicon-upload"></span> Upload all
            </button>
            <button type="button" class="btn btn-warning btn-s" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading" disabled="disabled">
                <span class="glyphicon glyphicon-ban-circle"></span> Cancel all
            </button>
            <button type="button" class="btn btn-danger btn-s" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length" disabled="disabled">
                <span class="glyphicon glyphicon-trash"></span> Remove all
            </button>
        </div>    </div>
</div>

</body>
</html>